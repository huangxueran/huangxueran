<!doctype html><!--文档头信息-->
<html><!--根标签-->
<head><!--头部标签-->
    <meta charset="UTF-8"><!--字符编码-->
    <meta name="Generator" content="EditPlus®"><!--使用编辑器-->
    <meta name="Author" content="黄学然"><!--作者-->
    <meta name="Keywords" content="作业"><!--关键字-->
    <meta name="Description" content=""><!--描述-->
    <title>整理笔记（五）</title><!--网站标题-->
    <style>
        *{margin: 0;padding: 0;}
        .clearfix:after{content:'';display:block;clear:both;}
        .fl{float:left;}
        .fr{float:right;}
        #wrap{
            width:300px;
            margin:50px auto;
            border:1px solid #ccc;
            text-align:center;
            height:299px;
            overflow:hidden;
            position: relative;
            user-select: none;
        }
        #wrap p{
            background: #ccc;
            line-height:30px;
            cursor:pointer;
            position: absolute;
            width:100%;
            z-index:99;

        }
        #wrap p:hover{
            background-color: #aaa;
            color:#fff;
        }
        #wrap p.up{
            top:0;
        }
        #wrap p.down{
            bottom:0;
        }
        #wrap ul{
            position: relative;
            top:30px;
        }
        #wrap ul li{
            list-style: none;
        }

    </style>
</head>

<body>
<div id="wrap">
    <p class='up'>上</p>
    <ul>
        <li><img src="img/scroll1.png" alt=""></li>
        <li><img src="img/scroll2.png" alt=""></li>
        <li><img src="img/scroll3.png" at=""></li>
    </ul>
    <p class='down'>下</p>
</div>
<script>
    /*

    clearInterval( 参数 )
    参数即使是undefined null这类的数据，也不会出错。

    清除定时器，不能阻止函数里面代码的继续执行！要注意和return的区别开

     */
    (function( ) {
        var oUp = document.querySelector("#wrap .up"),
            oDown = document.querySelector("#wrap .down"),
            oUl = document.querySelector("#wrap ul"),
            initTop = 30, //ul top的初始值，css里面设置的
            timer1,
            minTop = -(727 - (300-62)) + 40,//因为目前为止，我们还没有学习一些获取元素样式相关的API，所以暂时先写一个定值
            maxTop = 30;

        //按下的时候触发定时器开始运动
        oUp.onmousedown = function (){
            move(true);
        };

        oDown.onmousedown = function (){
            move(false);
        };

        function move(bool){
            var num = bool?-1:1;
            timer1  = setInterval(function () {
                initTop += num;
                if(  initTop >= maxTop || initTop <= minTop  ){
                    initTop = bool?minTop:maxTop;
                    clearInterval( timer1 );
                }

        oUl.style.top = initTop + 'px';

    },15);

    };

        //松开的时候，停止定时器，结束运动
        document.onmouseup = function () {
            clearInterval(timer1);
        };
    })();
</script>
</body>
</html>