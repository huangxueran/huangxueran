<!doctype html><!--文档头信息-->
<html><!--根标签-->
<head><!--头部标签-->
    <meta charset="UTF-8"><!--字符编码-->
    <meta name="Generator" content="EditPlus®"><!--使用编辑器-->
    <meta name="Author" content="黄学然"><!--作者-->
    <meta name="Keywords" content="作业"><!--关键字-->
    <meta name="Description" content=""><!--描述-->
    <title>整理笔记（五）</title><!--网站标题-->
    <style>
        body{font-family: "Microsoft YaHei",serif;}
        body,dl,dd,p,h1,h2,h3,h4,h5,h6{margin:0;}
        ol,ul,li{margin:0;padding:0;list-style:none;}
        img{border:none;}

    </style>
</head>
<body>
<div id="wrap"></div>

<script>
    /*
    ajax
        asyncChronous javascript and XML
        异步的javascript和XML

        功能：
            无刷新页面的情况下，实现与后台的数据交互，同时在页面进行更新

    跨域：	不能跨域
            jsonp

            www.baidu.com

            同源策略    www.baidu.com
              只能跟同源的后台进行数据交互

    1. ajax = new  XMLHttpRequest()
    2. ajax.open(method, url, )  设置跟后台交互的一些方式
        method: get方式
                post方式

    ajax.readystate
        表示ajax对象跟后台交互状态
        0:  ajax对象已创建，但是未调用open方法
        1:  open方法已经调用，但是send()  没有启动
        2:  send()启动，数据已经发送给后台
        3:  正在接受数据，http响应头已经接受，但是数据没有全部接受完成。
        4:  数据全部接受完成，你前端爱咋咋滴.

    ajax.status
        用于记录服务器的状态码

        2开头  还有就是304

        */
    var ajax = new XMLHttpRequest();  // ajax第一步 创建ajax对象

        ajax.open('post', 'www.baidu.com', true);

        ajax.send();

     // 中止请求 : 可能由于网速原因，导致请求时间过长，可以设定一个时限，时间到如果还没有拿到数据就关闭这次请求。

    //ajax.abort()// 关闭请求的方法
        setTimeout(function(){
            ajax.abort(); // 时间到就停止
        },5000);


    ajax.onreadystatechange = function(){

        if(ajax.readystate === 4){ //数据全部接受完成，你前端爱咋咋滴.
            // 如果readystate===4，通常情况就是拿到数据.
            if( ajax.status >= 200 && ajax.status < 300 || ajax.status === 304){ // 当进入这个判断，就是能拿到数据了
                //这个判断就是用于确定服务器状态是否好使，
                //好使意味着可以拿到数据
                console.log(ajax.responseText)
            }
        }
    }
</script>
</body>
</html>